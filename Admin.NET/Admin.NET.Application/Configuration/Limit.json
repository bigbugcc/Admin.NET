{
  "$schema": "https://gitee.com/dotnetchina/Furion/raw/v4/schemas/v4/furion-schema.json",

  // IPé™æµé…ç½®
  "IpRateLimiting": {
    // ä¾‹å¦‚:è®¾ç½®æ¯åˆ†é’Ÿ5æ¬¡è®¿é—®é™æµ
    // å½“Falseæ—¶ï¼šæ¯ä¸ªæ¥å£éƒ½åŠ å…¥è®¡æ•°ï¼Œä¸ç®¡ä½ è®¿é—®å“ªä¸ªæ¥å£ï¼Œåªè¦åœ¨ä¸€åˆ†é’Ÿå†…ç´¯è®¡å¤Ÿ5æ¬¡ï¼Œå°†ç¦æ­¢è®¿é—®ã€‚
    // å½“True æ—¶ï¼šå½“ä¸€åˆ†é’Ÿè¯·æ±‚äº†5æ¬¡GetDataæ¥å£ï¼Œåˆ™è¯¥æ¥å£å°†åœ¨æ—¶é—´æ®µå†…ç¦æ­¢è®¿é—®ï¼Œä½†æ˜¯è¿˜å¯ä»¥è®¿é—®PostData()5æ¬¡,æ€»å¾—æ¥è¯´æ˜¯æ¯ä¸ªæ¥å£éƒ½æœ‰5æ¬¡åœ¨è¿™ä¸€åˆ†é’Ÿï¼Œäº’ä¸å¹²æ‰°ã€‚
    "EnableEndpointRateLimiting": true,
    // å¦‚æœStackBlockedRequestsè®¾ç½®ä¸ºfalseï¼Œæ‹’ç»çš„APIè°ƒç”¨ä¸ä¼šæ·»åŠ åˆ°è°ƒç”¨æ¬¡æ•°è®¡æ•°å™¨ä¸Šã€‚æ¯”å¦‚ï¼šå¦‚æœå®¢æˆ·ç«¯æ¯ç§’å‘å‡º3ä¸ªè¯·æ±‚å¹¶ä¸”æ‚¨è®¾ç½®äº†æ¯ç§’ä¸€ä¸ªè°ƒç”¨çš„é™åˆ¶ï¼Œ
    // åˆ™æ¯åˆ†é’Ÿæˆ–æ¯å¤©è®¡æ•°å™¨ç­‰å…¶ä»–é™åˆ¶å°†ä»…è®°å½•ç¬¬ä¸€ä¸ªè°ƒç”¨ï¼Œå³æˆåŠŸçš„APIè°ƒç”¨ã€‚å¦‚æœæ‚¨å¸Œæœ›è¢«æ‹’ç»çš„APIè°ƒç”¨è®¡å…¥å…¶ä»–æ—¶é—´çš„æ˜¾ç¤ºï¼ˆåˆ†é’Ÿï¼Œå°æ—¶ç­‰ï¼‰ï¼Œåˆ™å¿…é¡»è®¾ç½®
    "StackBlockedRequests": false,
    // åœ¨RealIpHeaderä½¿ç”¨æ—¶ï¼Œä½ çš„KestrelæœåŠ¡å™¨èƒŒåæ˜¯ä¸€ä¸ªåå‘ä»£ç†ï¼Œå¦‚æœä½ çš„ä»£ç†æœåŠ¡å™¨ä½¿ç”¨ä¸åŒçš„é¡µçœ‰ç„¶åæå–å®¢æˆ·ç«¯IP X-Real-IPä½¿ç”¨æ­¤é€‰é¡¹æ¥è®¾ç½®å®ƒã€‚
    "RealIpHeader": "X-Real-IP",
    // å°†ClientIdHeaderè¢«ç”¨äºæå–ç™½åå•çš„å®¢æˆ·ç«¯IDã€‚å¦‚æœæ­¤æ ‡å¤´ä¸­å­˜åœ¨å®¢æˆ·ç«¯IDå¹¶ä¸”ä¸ClientWhitelistä¸­æŒ‡å®šçš„å€¼åŒ¹é…ï¼Œåˆ™ä¸åº”ç”¨é€Ÿç‡é™åˆ¶ã€‚
    "ClientIdHeader": "X-ClientId",
    // IPç™½åå•:æ”¯æŒIpv4å’ŒIpv6
    "IpWhitelist": [],
    // ç«¯ç‚¹ç™½åå•
    "EndpointWhitelist": [],
    // å®¢æˆ·ç«¯ç™½åå•
    "ClientWhitelist": [],
    "QuotaExceededResponse": {
      "Content": "{{\"code\":429,\"type\":\"error\",\"message\":\"è®¿é—®è¿‡äºé¢‘ç¹,è¯·ç¨åé‡è¯•ï¼ç¦æ­¢è¿æ³•è¡Œä¸ºå¦åˆ™110 ğŸ‘®\",\"result\":null,\"extras\":null}}",
      "ContentType": "application/json",
      "StatusCode": 429
    },
    // è¿”å›çŠ¶æ€ç 
    "HttpStatusCode": 429,
    // APIè§„åˆ™,ç»“å°¾ä¸€å®šè¦å¸¦*
    "GeneralRules": [
      // 1ç§’é’Ÿåªèƒ½è°ƒç”¨1000æ¬¡
      {
        "Endpoint": "*",
        "Period": "1s",
        "Limit": 1000
      },
      // 1åˆ†é’Ÿåªèƒ½è°ƒç”¨60000æ¬¡
      {
        "Endpoint": "*",
        "Period": "1m",
        "Limit": 60000
      }
      //// 1å°æ—¶åªèƒ½è°ƒç”¨3600000æ¬¡
      //{
      //  "Endpoint": "*",
      //  "Period": "1h",
      //  "Limit": 3600000
      //},
      //// 1å¤©åªèƒ½è°ƒç”¨86400000æ¬¡
      //{
      //  "Endpoint": "*",
      //  "Period": "1d",
      //  "Limit": 86400000
      //}
    ]
  },
  // IP é»‘åå•
  "IpRateLimitPolicies": {
    "IpRules": [
      {
        "Ip": "0.0.0.0", // IPå¯ç”¨ï¼š"::1/10" 
        "Rules": [
          {
            "Endpoint": "*",
            "Period": "1s",
            "Limit": 0 // è®¾ç½®ä¸º0å°±æ˜¯1æ¬¡éƒ½ä¸èƒ½è¯·æ±‚ï¼Œå®Œå…¨å±è”½
          }
        ]
      }
    ]
  },
  // å®¢æˆ·ç«¯é™æµé…ç½®
  "ClientRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "ClientIdHeader": "X-ClientId",
    "EndpointWhitelist": [],
    "ClientWhitelist": [],
    "QuotaExceededResponse": {
      "Content": "{{\"code\":429,\"type\":\"error\",\"message\":\"è®¿é—®äººæ•°è¿‡å¤š,è¯·ç¨åé‡è¯•!\",\"result\":null,\"extras\":null}}",
      "ContentType": "application/json",
      "StatusCode": 429
    },
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "*",
        "Period": "1s",
        "Limit": 2000
      }
    ]
  },
  "ClientRateLimitPolicies": {
    "ClientRules": [
      {
        "ClientId": "",
        "Rules": [
          {
            "Endpoint": "*",
            "Period": "1s",
            "Limit": 2000
          }
        ]
      }
    ]
  }
}